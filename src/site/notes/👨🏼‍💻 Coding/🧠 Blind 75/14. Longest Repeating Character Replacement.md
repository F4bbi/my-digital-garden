---
{"dg-publish":true,"permalink":"/coding/blind-75/14-longest-repeating-character-replacement/","created":"2023-09-05T23:19:30.982+02:00","updated":"2023-09-23T16:26:54.101+02:00"}
---

# 14. Longest Repeating Character Replacement
#leetcode/424
## Problem [ðŸ”—](https://leetcode.com/problems/longest-repeating-character-replacement)
You are given a stringÂ `s`Â and an integerÂ `k`. You can choose any character of the string and change it to any other uppercase English character. You can perform this operation at mostÂ `k`Â times.

ReturnÂ the length of the longest substring containing the same letter you can get after performing the above operations.

**Example:**
```
Input: s = "AABABBA", k = 1
Output: 4
```

## Solution
#### Solution in C++ using hash map
The idea is to iteratively find the longest substring by maintaining a sliding window approach. We use two pointers (`low`Â andÂ `high`) to represent the boundaries of the current substring we are checking, and a hash map (in our case an array of 26 elements) to count the frequency of each character. As we iterate through the string, we update the pointers and adjust the window when the condition `high - low + 1 - maxFreq <= k` isn't true. In fact, to obtain the longest substring, we have to rely on the character with the max frequency and if we find another character we can try to substitute it using `k`. When we can't use `k` anymore, we have to reduce our sliding window from left, until `high - low + 1 - maxFreq <= k` is true. 

**Graphic explanation:**


<div class="transclusion internal-embed is-loaded"><div class="markdown-embed">

$<div class="markdown-embed-title">

# 700

</div>



==âš   Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. âš ==


# Text Elements
A ^M7aFcTrX

A ^fu0KfxFG

A ^bZarcjO1

B ^jw8cNnJS

Input: ^hozIbyJq

Operations: ^AepHEZNp

B ^o0DnBPO6

B ^0lyWhOCp

1. Iterate through
    the array: ^hrA81KR4

low, high ^UaIOEq8x

A ^aTXi5Z5M

A ^AvdmCqED

A ^yA9HW0xT

A ^OsTrrwKd

B ^k7G6diXx

B ^80YvVkps

B ^wVQdMcQt

A ^DRT4VN0Z

CharSet { A: 1 },  maxFreq: 1, maxLength: 0 ^Af2QdvHY

low ^FOS2PCfP

A ^RmFrKzD0

A ^O6yCG5z2

A ^eMSUZ0sr

B ^64BqXEBn

B ^bsTwbG5C

B ^92s5qtWZ

A ^8fPuxFIe

CharSet { A: 2 },  maxFreq: 2, maxLength: 1 ^pZwn6rWR

high ^kIYkhtK2

low ^Cs7mWcHY

A ^1WfsIM58

A ^nyNnfcX9

A ^oIHMFpQ6

B ^z6DoaIlb

B ^4oEE0sWO

B ^Q6l5Hdqx

A ^dP1Q5NOt

CharSet { A: 2, B: 1 },  maxFreq: 2, maxLength: 3 ^ptVs5BZJ

high ^JAg6hI2P

low ^a5epUcW0

A ^CpQbZoCG

A ^i4xEu3uU

A ^hQeIH7KT

B ^kHYId1gF

B ^h2H60lBN

B ^R0KecNJE

A ^BAJ8heH0

CharSet { A: 3, B: 1 },  maxFreq: 3, maxLength: 4 ^41AO1DDx

high ^bj6KHkhs

low ^blg3OtbT

A ^n3qFATr8

A ^nsRgSEkU

A ^3zADthbv

B ^r7nKDnCw

B ^v04nVnAz

B ^3H774tXu

A ^WoZePxbp

high ^lpZYVN8M

CharSet { A: 3, B: 2 },  maxFreq: 3, maxLength: 4 ^1cH11c2d

(!) high - low + 1 - maxFreq = 4 - 0 + 1 - 3 = 2 > 1 ^8srkmkDD

low ^xrvAJGUh

A ^WmY9pSzd

A ^NKWheHk0

A ^pX6pe4hU

B ^WHKFxohi

B ^dwX9qJa2

B ^GlVhJCGP

A ^YvT09Otc

high ^otHaOfo4

CharSet { A: 2, B: 2 },  maxFreq: 2, maxLength: 4 ^aCHI1usK

(!) high - low + 1 - maxFreq = 4 - 1 + 1 - 2 = 2 > 1 ^PrK2T68U

Move low forward! ^jKr28ug1

Move low forward! ^BtPxxqGh

low ^9oXaOtZQ

A ^x9YYeoHb

A ^gpZprF67

A ^4YczlfKn

B ^M3LovCHA

B ^DMk20lGa

B ^8K3FAxKL

A ^FF8HycL2

high ^WJuXqlwb

CharSet { A: 1, B: 2 },  maxFreq: 2, maxLength: 4 ^GJVJ1r3k

low ^EJ7n1oEu

A ^TNEMdseA

A ^60qlyol3

A ^uqO75FA6

B ^KzX6vuqL

B ^pyn6FPTY

B ^vRuc89ND

A ^LLTuLE5X

high ^S9joap19

CharSet { A: 1, B: 3 },  maxFreq: 3, maxLength: 4 ^OIDAS9nS

low ^ZxqQKgnc

A ^q7zPtNr0

A ^57Rz2eEv

A ^dI8uW5Oj

B ^haALpjGQ

B ^pQaRsfiW

B ^aax0v0ps

A ^0A9pMrHv

high ^jkzWUiUl

CharSet { A: 2, B: 3 },  maxFreq: 3, maxLength: 4 ^0lyEQvUe

(!) high - low + 1 - maxFreq = 6 - 2 + 1 - 3 = 2 > 1 ^P7lCJDbF

Move low forward! ^vqPREBkA

low ^SiEHh5c9

A ^Ltq67dpX

A ^tnQg2X2C

A ^F4X7RlaD

B ^JDYKmitQ

B ^OwVSv4BD

B ^MKMTJybq

A ^P8Qu2wVC

high ^06qPi3dI

CharSet { A: 2, B: 2 },  maxFreq: 2, maxLength: 4 ^tOPLf8rG

(!) high - low + 1 - maxFreq = 6 - 3 + 1 - 2 = 2 > 1 ^KxSH5j44

Move low forward! ^rgdjKAeq

low ^MkjnMVC3

A ^WwCwUEJF

A ^KzpcB2jh

A ^wBUE2Afl

B ^50DqSee6

B ^ExdFvApR

B ^NMsoYfG3

A ^gHlGVOH0

high ^dhcDCBHe

CharSet { A: 1, B: 2 },  maxFreq: 2, maxLength: 4 ^MjgNS9Fj



</div></div>


Here's the implementation:
```cpp
int characterReplacement(string s, int k) {
	array<int, 26> charSet = {};
	int n = s.size(), maxFreq = 0, maxLength = 0;
	for(int low = 0, high = 0; high < n; high++) {
		char currChar = s[high];
		charSet[currChar - 'A']++;
		maxFreq = max(maxFreq, charSet[currChar - 'A']);
		while(high - low + 1 - maxFreq > k) {
			charSet[s[low] - 'A']--;
			low++;
		}
		maxLength = max(maxLength, high - low + 1);
	}
	return maxLength;
}
```
- **Time complexity:** $O(n)$ (where _n_ is the size of the vector)
- **Space complexity:** $O(1)$  (`charSet` will always have 26 elements)